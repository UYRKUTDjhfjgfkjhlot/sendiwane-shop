<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sen Diwane Touhfatou - Maison de Luxe</title>
    <meta name="description" content="Découvrez l'univers raffiné de Sen Diwane Touhfatou. Collections exclusives de parfums, vêtements et accessoires de luxe.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="homepage">

    <!-- Header glass minimal, fixe, avec bouton retour et panier -->
    <header class="mini-glass-header" id="main-header" style="display: none;">
        <div class="header-nav">
            <a href="#" class="back-button" id="back-to-home-btn" onclick="showHomePage(); return false;" title="Retour à l'accueil">
                <i class="fas fa-home"></i>
            </a>
            <button id="cart-btn" class="cart-button" title="Voir le panier">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-badge" class="cart-badge">0</span>
            </button>
        </div>
    </header>

    <!-- Homepage Sections (visible by default) -->
    <div id="homepage-sections">
        <!-- Hero Section -->
        <main class="hero-section">
            <div class="hero-content">
                <!-- Brand Introduction -->
                <div class="brand-intro animate-fade-up">
                    <h1 class="brand-title">
                        <span class="title-line">L'Art de</span>
                        <span class="title-line highlight">l'Élégance</span>
                    </h1>
                    <p class="brand-subtitle">
                        Découvrez nos collections exclusives de parfums raffinés, 
                        vêtements d'exception et accessoires de luxe.
                    </p>
                </div>

                <!-- Hero Image -->
                <div class="hero-visual animate-fade-up" style="animation-delay: 0.3s;">
                    <div class="hero-image-container">
                        <img 
                            src="https://i.postimg.cc/pX5dv7cy/Sen-Diwane-Touhfatou-Shop-LOGO.png" 
                            alt="Sen Diwane Touhfatou Shop Logo" 
                            class="hero-image"
                        />
                        <div class="image-overlay"></div>
                    </div>
                </div>

                <!-- Call to Action -->
                <div class="cta-section animate-fade-up" style="animation-delay: 0.6s;">
                    <button class="discover-btn" onclick="scrollToCollections()">
                        <span class="btn-text">Découvrir nos Collections</span>
                        <div class="btn-icon">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                    </button>
                </div>
            </div>
        </main>

        <!-- Collections Section -->
        <section class="collections-section" id="collections">
            <div class="collections-container">
                <div class="section-header animate-fade-up">
                    <h2 class="section-title">Nos Collections</h2>
                    <p class="section-subtitle">Chaque création raconte une histoire d'exception</p>
                </div>

                <div class="collections-grid">
                    <!-- Parfum Corporel -->
                    <div class="collection-card animate-fade-up" style="animation-delay: 0.1s;">
                        <a href="#" class="card-link" onclick="showCategory('corporel'); return false;">
                            <div class="card-image">
                                <img src="https://i.postimg.cc/RZHJHFjC/IMG-20250408-WA0056.jpg" alt="Parfums Corporels" loading="lazy">
                                <div class="card-overlay">
                                    <div class="card-icon">
                                        <i class="fas fa-spray-can"></i>
                                    </div>
                                    <span class="card-action">Explorer</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="card-title">Parfums Corporels</h3>
                                <p class="card-description">Essences rares et compositions exclusives pour sublimer votre personnalité</p>
                                <div class="card-price-range">À partir de 12.000 FCFA</div>
                            </div>
                        </a>
                    </div>

                    <!-- Parfum Chambre -->
                    <div class="collection-card animate-fade-up" style="animation-delay: 0.2s;">
                        <a href="#" class="card-link" onclick="showCategory('chambre'); return false;">
                            <div class="card-image">
                                <img src="https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=400&h=300&fit=crop&crop=center" alt="Parfums de Chambre" loading="lazy">
                                <div class="card-overlay">
                                    <div class="card-icon">
                                        <i class="fas fa-home"></i>
                                    </div>
                                    <span class="card-action">Explorer</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="card-title">Parfums d'Intérieur</h3>
                                <p class="card-description">Transformez votre espace en sanctuaire de bien-être et d'harmonie</p>
                                <div class="card-price-range">À partir de 6.500 FCFA</div>
                            </div>
                        </a>
                    </div>

                    <!-- Thiouraye -->
                    <div class="collection-card animate-fade-up" style="animation-delay: 0.3s;">
                        <a href="#" class="card-link" onclick="showCategory('thiouraye'); return false;">
                            <div class="card-image">
                                <img src="https://i.postimg.cc/KYRMqVh8/Incense-Bundle-For-Only-N12-000-This-mini-set-will-have-your-space-smelling-incredible-Only-one-set.jpg" alt="Thiouraye" loading="lazy">
                                <div class="card-overlay">
                                    <div class="card-icon">
                                        <i class="fas fa-fire"></i>
                                    </div>
                                    <span class="card-action">Explorer</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="card-title">Thiouraye Traditionnel</h3>
                                <p class="card-description">L'héritage ancestral revisité avec raffinement et authenticité</p>
                                <div class="card-price-range">À partir de 20.000 FCFA</div>
                            </div>
                        </a>
                    </div>

                    <!-- Vêtements -->
                    <div class="collection-card animate-fade-up" style="animation-delay: 0.4s;">
                        <a href="#" class="card-link" onclick="showCategory('vetement'); return false;">
                            <div class="card-image">
                                <img src="https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=400&h=300&fit=crop&crop=center" alt="Vêtements" loading="lazy">
                                <div class="card-overlay">
                                    <div class="card-icon">
                                        <i class="fas fa-tshirt"></i>
                                    </div>
                                    <span class="card-action">Explorer</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="card-title">Vêtements de Luxe</h3>
                                <p class="card-description">Créations d'exception alliant tradition africaine et modernité</p>
                                <div class="card-price-range">À partir de 25.000 FCFA</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Product Sections (hidden by default) -->
    <section id="products-corporel" class="products-section" style="display: none;">
        <div class="products-container">
            <h2 class="section-title">Parfums Corporels</h2>
            <div id="product-grid-corporel" class="product-grid">
                <!-- Products will be loaded dynamically from products.js -->
            </div>
        </div>
    </section>

    <section id="products-chambre" class="products-section" style="display: none;">
        <div class="products-container">
            <h2 class="section-title">Parfums d'Intérieur</h2>
            <div id="product-grid-chambre" class="product-grid">
                <!-- Products will be loaded dynamically from products.js -->
            </div>
        </div>
    </section>

    <section id="products-thiouraye" class="products-section" style="display: none;">
        <div class="products-container">
            <h2 class="section-title">Thiouraye Traditionnel</h2>
            <div id="product-grid-thiouraye" class="product-grid">
                <!-- Products will be loaded dynamically from products.js -->
            </div>
        </div>
    </section>

    <section id="products-vetement" class="products-section" style="display: none;">
        <div class="products-container">
            <h2 class="section-title">Vêtements de Luxe</h2>
            <div id="product-grid-vetement" class="product-grid">
                <!-- Products will be loaded dynamically from products.js -->
            </div>
        </div>
    </section>

    <!-- Product Modal -->
    <div id="product-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3>Détail du produit</h3>
                <button id="close-product-modal" class="close-btn" title="Fermer">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <img id="modal-product-image" src="" alt="" class="modal-product-img" />
                <h4 id="modal-product-name" class="modal-product-name"></h4>
                <p id="modal-product-price" class="modal-product-price"></p>
                <div class="button-container">
                    <button id="decrease-qty" class="button-3d" title="Diminuer la quantité">
                        <div class="button-top">
                            <span>-</span>
                        </div>
                        <div class="button-bottom"></div>
                        <div class="button-base"></div>
                    </button>
                    <span id="modal-quantity" class="quantity-display">1</span>
                    <button id="increase-qty" class="button-3d" title="Augmenter la quantité">
                        <div class="button-top">
                            <span>+</span>
                        </div>
                        <div class="button-bottom"></div>
                        <div class="button-base"></div>
                    </button>
                </div>
                <div id="order-summary" class="order-summary" style="margin-bottom:1rem;"></div>
                <div class="total-display">
                    <div>Total:</div>
                    <div id="modal-total" class="total-price">0 FCFA</div>
                </div>
                <button id="add-to-cart-modal" class="golden-btn" type="button" style="display:block;margin:0.75rem auto 0;width:90%;text-align:center;">
                    <span class="btn-label">Ajouter au panier</span>
                    <span class="checkmark" style="vertical-align:middle;">&#10003;</span>
                </button>
                <a href="#checkout-modal" id="go-to-checkout" class="secondary-button" style="display:block;margin:0.75rem auto 0;width:90%;text-align:center;">
                    Passer à la commande
                </a>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3>Votre Panier</h3>
                <button id="close-cart-modal" class="close-btn" title="Fermer">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="cart-items" class="cart-items">
                    <!-- Cart items will be loaded here -->
                </div>
                <div class="cart-total">
                    <div class="total-line">
                        <span>Total:</span>
                        <span id="cart-total-price">0 FCFA</span>
                    </div>
                </div>
                <div class="cart-actions">
                    <button id="proceed-checkout" class="cta-button">
                        Passer commande
                    </button>
                    <a href="#" id="continue-shopping" class="secondary-button" onclick="showHomePage(); return false;">
                        Continuer mes achats
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3>Finaliser la commande</h3>
                <button id="close-checkout-modal" class="close-btn" title="Fermer">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="checkout-form" class="checkout-form">
                    <div class="form-group">
                        <label for="customer-name">Nom complet</label>
                        <input type="text" id="customer-name" name="name" required placeholder="Votre nom complet">
                    </div>
                    <div class="form-group">
                        <label for="customer-phone">Numéro de téléphone</label>
                        <input type="tel" id="customer-phone" name="phone" required placeholder="+221 XX XXX XX XX">
                    </div>
                    <div class="form-group">
                        <label for="customer-address">Adresse de livraison</label>
                        <textarea id="customer-address" name="address" required rows="3" placeholder="Votre adresse complète"></textarea>
                    </div>
                    <div class="checkout-total">
                        <div class="total-line">
                            <span>Total à payer:</span>
                            <span id="checkout-total-price">0 FCFA</span>
                        </div>
                    </div>
                    <button type="submit" class="button">
                        <div class="outline"></div>
                        <div class="state state--default">
                            <div class="icon">
                                <svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g style="filter: url(#shadow)">
                                        <path d="M14.2199 21.63C13.0399 21.63 11.3699 20.8 10.0499 16.83L9.32988 14.67L7.16988 13.95C3.20988 12.63 2.37988 10.96 2.37988 9.78001C2.37988 8.61001 3.20988 6.93001 7.16988 5.60001L15.6599 2.77001C17.7799 2.06001 19.5499 2.27001 20.6399 3.35001C21.7299 4.43001 21.9399 6.21001 21.2299 8.33001L18.3999 16.82C17.0699 20.8 15.3999 21.63 14.2199 21.63ZM7.63988 7.03001C4.85988 7.96001 3.86988 9.06001 3.86988 9.78001C3.86988 10.5 4.85988 11.6 7.63988 14.17C10.3899 13.24 11.3799 12.14 11.3799 11.42C11.3799 10.7 10.3899 9.6 7.63988 7.03001Z" fill="currentColor"></path>
                                        <path d="M10.11 14.4C9.92005 14.4 9.73005 14.33 9.58005 14.18C9.29005 13.89 9.29005 13.41 9.58005 13.12L13.16 9.53C13.45 9.24 13.93 9.24 14.22 9.53C14.51 9.82 14.51 10.3 14.22 10.59L10.64 14.18C10.5 14.33 10.3 14.4 10.11 14.4Z" fill="currentColor"></path>
                                    </g>
                                    <defs>
                                        <filter id="shadow">
                                            <feDropShadow dx="0" dy="1" stdDeviation="0.6" flood-opacity="0.5"></feDropShadow>
                                        </filter>
                                    </defs>
                                </svg>
                            </div>
                            <p>
                                <span style="--i:0">S</span>
                                <span style="--i:1">e</span>
                                <span style="--i:2">n</span>
                                <span style="--i:3">d</span>
                                <span style="--i:4"> </span>
                                <span style="--i:5">M</span>
                                <span style="--i:6">e</span>
                                <span style="--i:7">s</span>
                                <span style="--i:8">s</span>
                                <span style="--i:9">a</span>
                                <span style="--i:10">g</span>
                                <span style="--i:11">e</span>
                            </p>
                        </div>
                        <div class="state state--sent">
                            <div class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="1em" width="1em" stroke-width="0.5px" stroke="black">
                                    <g style="filter: url(#shadow)">
                                        <path fill="currentColor" d="M12 22.75C6.07 22.75 1.25 17.93 1.25 12C1.25 6.07 6.07 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 17.93 17.93 22.75 12 22.75ZM12 2.75C6.9 2.75 2.75 6.9 2.75 12C2.75 17.1 6.9 21.25 12 21.25C17.1 21.25 21.25 17.1 21.25 12C21.25 6.9 17.1 2.75 12 2.75Z"></path>
                                        <path fill="currentColor" d="M10.5795 15.5801C10.3795 15.5801 10.1895 15.5001 10.0495 15.3601L7.21945 12.5301C6.92945 12.2401 6.92945 11.7601 7.21945 11.4701C7.50945 11.1801 7.98945 11.1801 8.27945 11.4701L10.5795 13.7701L15.7195 8.6301C16.0095 8.3401 16.4895 8.3401 16.7795 8.6301C17.0695 8.9201 17.0695 9.4001 16.7795 9.6901L11.1095 15.3601C10.9695 15.5001 10.7795 15.5801 10.5795 15.5801Z"></path>
                                    </g>
                                </svg>
                            </div>
                            <p>
                               
                                <span style="--i:0">E</span>
                                <span style="--i:1">n</span>
                                <span style="--i:2">v</span>
                                <span style="--i:3">o</span>
                                <span style="--i:4">y</span>
                                <span style="--i:5">é</span>
                                <span style="--i:6">e</span>
                                <span style="--i:7"> !</span>
                            </p>
                        </div>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="luxury-footer">
        <div class="footer-content">
            <div class="footer-brand">
                <div class="footer-logo">SEN DIWANE TOUHFATOU</div>
                <p class="footer-tagline">L'excellence à votre service depuis toujours</p>
            </div>
            <div class="footer-navigation">
                <h4>Nos Collections</h4>
                <ul>
                    <li><a href="#" onclick="showCategory('corporel'); return false;">Parfums Corporels</a></li>
                    <li><a href="#" onclick="showCategory('chambre'); return false;">Parfums d'Intérieur</a></li>
                    <li><a href="#" onclick="showCategory('thiouraye'); return false;">Thiouraye Traditionnel</a></li>
                    <li><a href="#" onclick="showCategory('vetement'); return false;">Vêtements de Luxe</a></li>
                </ul>
            </div>
            <div class="footer-contact">
                <p>Contactez-nous via WhatsApp pour vos commandes</p>
                <div class="contact-info">
                    <i class="fab fa-whatsapp"></i>
                    <span>+221 77 123 45 67</span>
                </div>
            </div>
        </div>
    </footer>

    <script src="products.js"></script>
    <script src="app.js"></script>
    <script>
        // SPA Navigation System
        let currentCategory = null;

        // Category titles mapping
        const categoryTitles = {
            'corporel': 'Parfums Corporels',
            'chambre': 'Parfums d\'Intérieur',
            'thiouraye': 'Thiouraye Traditionnel',
            'vetement': 'Vêtements de Luxe'
        };

        // Show category products
        function showCategory(category) {
            // Hide homepage sections
            document.getElementById('homepage-sections').style.display = 'none';
            
            // Hide all product sections
            document.querySelectorAll('.products-section').forEach(section => {
                section.style.display = 'none';
            });

            // Show header
            document.getElementById('main-header').style.display = 'flex';
            
            // Show selected category section
            const categorySection = document.getElementById(`products-${category}`);
            if (categorySection) {
                categorySection.style.display = 'block';
                currentCategory = category;
                
                // Load products for this category
                loadProductsForCategory(category);
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Show homepage
        function showHomePage() {
            // Hide header
            document.getElementById('main-header').style.display = 'none';
            
            // Hide all product sections
            document.querySelectorAll('.products-section').forEach(section => {
                section.style.display = 'none';
            });

            // Show homepage sections
            document.getElementById('homepage-sections').style.display = 'block';
            currentCategory = null;
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Load products for a category
        function loadProductsForCategory(category) {
            // Use app.js method if available, otherwise use fallback
            if (window.cart && typeof window.cart.loadProducts === 'function') {
                window.currentCategory = category;
                window.cart.loadProducts(category);
            } else if (PRODUCTS && PRODUCTS[category]) {
                const gridId = `product-grid-${category}`;
                const productGrid = document.getElementById(gridId);
                
                if (!productGrid) return;

                // Check if already loaded
                if (productGrid.children.length > 0 && !productGrid.querySelector('.loading')) return;

                productGrid.innerHTML = '<div class="loading"><i class="fas fa-spinner"></i><p>Chargement des produits...</p></div>';

                setTimeout(() => {
                    const products = PRODUCTS[category];
                    productGrid.innerHTML = '';

                    products.forEach(product => {
                        const productCard = createProductCard(product);
                        productGrid.appendChild(productCard);
                    });
                }, 300);
            }
        }

        // Create product card
        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.setAttribute('data-product-id', product.id);
            
            card.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="product-image" loading="lazy">
                <div class="product-info">
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-price">${formatPrice(product.price)}</p>
                    <button class="add-to-cart-btn" data-product-id="${product.id}">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            `;

            // Add click handlers
            const productImage = card.querySelector('.product-image');
            const productName = card.querySelector('.product-name');
            const addToCartBtn = card.querySelector('.add-to-cart-btn');

            if (productImage) {
                productImage.addEventListener('click', () => {
                    if (window.cart) {
                        window.cart.showProductModal(product);
                    }
                });
            }

            if (productName) {
                productName.addEventListener('click', () => {
                    if (window.cart) {
                        window.cart.showProductModal(product);
                    }
                });
            }

            if (addToCartBtn) {
                addToCartBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    if (window.cart) {
                        window.cart.addToCart(product, 1);
                        window.cart.showAddedAnimation(e.target);
                    }
                });
            }

            return card;
        }

        // Format price
        function formatPrice(price) {
            return `${price.toLocaleString('fr-FR')} FCFA`;
        }

        // Scroll to collections section
        function scrollToCollections() {
            document.getElementById('collections').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start' 
            });
        }

        // Intersection Observer for animations
        const initializeHomepageAnimations = () => {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animated');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            document.querySelectorAll('.animate-fade-up').forEach(el => {
                observer.observe(el);
            });
        };

        // Initialize on DOM load
        document.addEventListener('DOMContentLoaded', () => {
            initializeHomepageAnimations();
            
            // Set current category if needed (for compatibility with app.js)
            if (currentCategory) {
                window.currentCategory = currentCategory;
            }
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', (e) => {
            if (e.state && e.state.category) {
                showCategory(e.state.category);
            } else {
                showHomePage();
            }
        });
    </script>
</body>
</html>
